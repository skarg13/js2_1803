<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // let a
        // let testF = () => {
        //     setTimeout(() => {
        //         a = 100
        //     }, 1500)
        //     //return =>> return undefined
        // }
        
        // function st () {
        //     testF()
        //     console.log(100 + a)
        // }

        //callback
        // let a
        // let testF = (cb) => {
        //     setTimeout(() => {
        //         a = 100
        //         cb()
        //     }, 1500)
        //     //return =>> return undefined
        // }
        
        // function st () {
        //     console.log(100 + a)
        // }


        //Promises
        let a //undefined !a

        let asyncPromiseFunction = () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    a = 10
                }, 100000)

                setTimeout(() => {
                    if(a) {
                        resolve(a)
                    } else {
                        reject('A еще не определена')
                    }
                }, 2000)
            })
        }

        asyncPromiseFunction()
            .then(res => {
                console.log('Успешно ' + res)
            })
            .catch(rej => {
                console.log(rej)
            })
            .finally(() => {
                console.log('Promise ended')
            })
    </script>
</body>
</html>